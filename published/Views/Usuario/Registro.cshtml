@model GestorTarea.Models.Usuarios



@{
    ViewBag.Title = "Registrar Usuario";
    Layout = null;
}
@Styles.Render("~/Content/Registro.css")

@Html.ValidationSummary(true, "", new { @class = "text-danger" })

<h2>Registrar Usuario</h2>

@if (TempData["mensaje"] != null)
{
    <div class="alert alert-success">@TempData["mensaje"]</div>
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-group">
        @Html.LabelFor(m => m.Name)
        @Html.TextBoxFor(m => m.Name, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Name, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Email)
        @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email" })
        @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Password)
        @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
    </div>
    <button type="submit" class="btn btn-primary">Registrar</button>

    <div class="mt-3 text-center">
        ¿Ya tienes una cuenta?
        <a href="@Url.Action("Login", "Usuario")" class="btn btn-link">Inicia sesión aquí</a>
    </div>
}

<script>
    window.addEventListener('DOMContentLoaded', () => {
        const mensaje = document.getElementById('mensajeFlash');
        if (mensaje) {
            setTimeout(() => {
                mensaje.style.transition = "opacity 0.5s ease";
                mensaje.style.opacity = '0';
                setTimeout(() => mensaje.remove(), 500); // lo remueve del DOM después de la animación
            }, 4000); // 4 segundos antes de ocultar
        }
    });
</script>
